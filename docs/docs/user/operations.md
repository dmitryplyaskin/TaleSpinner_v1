---
title: Operations
sidebar_position: 4
description: Как автоматизировать шаги генерации через Operation Profiles.
---

# Operations

Operations - это встроенный pipeline вокруг основной генерации, теперь собранный из **блоков**.

Проще: вы создаете переиспользуемые блоки операций и собираете из них профили под конкретную задачу.

## Что можно автоматизировать

- действия до main LLM (`before_main_llm`),
- действия после main LLM (`after_main_llm`),
- порядок выполнения и зависимости,
- обязательность шага (`required`).

## Новая модель: Profiles + Blocks

- `Blocks`: библиотека независимых наборов операций.  
- `Profiles`: композиция из ссылок на блоки (`blockRefs`) с флагами `enabled` и `order`.

Профиль сам операции не хранит. При запуске backend собирает выбранные блоки в плоский массив операций и передает его в оркестратор.

## Быстрый сценарий

1. Откройте вкладку `Blocks` в разделе `Операции`.
2. Создайте блок и добавьте операции (`template`/`llm` и т.д.).
3. При необходимости откройте `Node Editor` и настройте зависимости внутри блока.
4. Перейдите во вкладку `Profiles`.
5. Создайте профиль и добавьте в него нужные блоки.
6. Укажите порядок блоков и включенность каждого блока в профиле.
7. Сохраните и сделайте тестовый запрос в чате.

## Когда использовать Node Editor

Переходите в `Node Editor`, если:

- операций больше 3-5,
- есть зависимости между шагами,
- важно визуально понимать порядок выполнения.

Важно: зависимости `dependsOn` задаются внутри блока, межблочные зависимости не используются.

## Что важно знать на текущей версии

В рантайме исполняются kind:

- `template`
- `llm`

Остальные kind пока отображаются в UI как draft и пропускаются при исполнении.

## Практическое преимущество перед ручной сборкой prompt

- меньше повторяющихся действий,
- стабильнее поведение между ходами,
- проще собирать разные профили из готовых блоков,
- проще переносить рабочий процесс через экспорт/импорт блоков и профилей.
